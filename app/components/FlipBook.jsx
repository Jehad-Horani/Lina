"use client";

import { useState, useEffect } from "react";
import { motion, AnimatePresence } from "framer-motion";
import Link from "next/link";

const spreads = [
    {
        left: {
            image: "/book/page1.jpg",
            text: "ูุณุง ุงูู ุงุดู ุงุญูุง ุจูุนุฑู ุจุนุถ ูู ูุจู 14|11 ุจุณ ุงูุง ูุงูุชู ุฐุงูุฑุชูุง ุณููุฉ ููุนุชูุฏูู ุนุงูุตูุฑ ูุงูุชู ุฒูุงู ูุง ููุชู ุชุญุจู ุชูุญูุธ ุตูุฑู ุจุชูููู ุดุจ ุจุงููุฑุง ูุงูุง ููุช ุฌุฏุง ูุญุชุฑู ูุงูุงุดู ุจุณ ูุงู ูุงูุช ุงูู ุตูุฑุฉ ุงูุชู ุชุณูุญููู ุงุญูุธูุง ุนูุฏู ูุงูุช ุจุชุงุฑูุฎ 8|1|2024 ูุจุฏู ุงุญูููู ูู ูุงู ุงูุตูุฑุฉ ุจูุดุช ุงููุตุฉ ููุญุทูุท ุนูููุง ุงุตูุง ุงุบููุฉ ุงู ุฑูุญู ุชูุงุฌููุง โคโค"
        },
        right: {
            image: "/book/page2.jpg",
            text: "ุจุญูููู ูุง ุชุดูู ุจุงูุชูููุญุงุช ูุงูุง ุงููุชุญุช ูุงูุง ุจุณ ุจุชุบุฒู ูููู ุจุงุบุงูู ุงูุณูุงุจ ูุงู ุงูุตูุฑุฉ ุจููุณ ุงูุดูุฑ ุนูู ุจููููุฉ ุงูุงู ุชู ุจุนุฏ ูุง ุฑุงุถูุชู ุชุตูุฑูุง ูุญุทูุชูู ุงุบููุฉ ุชุถูุนูู ุจุถุญูุฉ ุนูููู ูุนุงููุงุถู ุจุฑุถู ุงุฎุฎุฎุฎ ุจุณุณ ุจุญุจู ุดู ุจุฏู ุงุนูู ุจุญุจู ูุด ุจุงูุฏููููู ูุง ุณุชูู ูููู ุงูุชู  "
        }
    },
    {
        left: {
            image: "/book/page3.jpg",
            text: "ุณุงุงุงุงุงุงุงุงูุญููููููู ูุนูู ุจุณ ูุงู ุงูุนุงุฏุฉ ุงููุณุฎุฉ ููู ุตุนุจ ูุฌู ุนูุฏูููุงุฏ ุงุบูู ูุงุนุฒ ุงูุณุงูุฉ ุนููุจู ููุง ุงุทูุนููุง ุดููุฉ ููุงุณู ูู ุงู ุจุญุจูู ููุจู ุงูููู ุงูุฐู ุนุฐุจ ุงูุฌุงูุนุฉ ูุงููุนูู ุจุงูุญุจ ูู ุงูู ูุธุฑุฉ ุงูููู ุงูุฐู ุนุฌุฒุช ุนูู ุงูุฏููุง ูุงูุนุงูู ุงูู ููู ูุนุฌููููููููููููู ุงูุงุณูุงุงุงุงุงุงุงุงุงุงุงุงุงุงุงุงุงุงุงุงู ูุงู ุนูุง ุงูุชุญุงู ููุชูุง ูุงููู ูุง ุบูุฑูู ููุณูุชู ุทูู ุงูููู ุบูุฑู ุงูุชู ูุฑูุญู ุงูุญููุฉ "
        },
        right: {
            image: "/book/page4.jpg",
            text: "ุงูุตูุฑุฉ ุงูุงุนุธู ูุงูุฐูุฑู ุงูุชู ูุชู ุงุญูุงุฆูุง ูู ููุงูุฉ ูุตู ูุง ุงููู ูู ุจุณ ุชุนุฑูู ูุง ูููุง ูุฏูุด ุจููู ูุชุญูุณ ูุงุฎุฑ ููู ุจุณ ุนุดุงู ูุชุตูุฑ ูุงู ุงูุตูุฑุฉ ุงูุณู ุจุงููู ูุง ุจููู ุงููุฑ ุบูุฑ ููุง ูุชู ุจุฏูุง ูุชุตูุฑูุง ูุจุณ ุงูุง ูุงูุชู ูู ุงูู ูุตู ููููู ุนูู ุงูุนูุฏ ูุนู ุงูุชู ุฑุบู ุงูุนูุจุงุช ูุฑุบู ุงูุตุนูุจุงุช ุงูุจุณูุทุฉ ููุง ูุนุฏู ู ูุนูุด ุนุดุงู ูุดูู ูุตู ุฌุฏูุฏ ุจูุงูุฌุงูุนุฉ ุงูู ูุง ุทูุนุช ุจุงุดู ูููุฏ ูููุง ูุง ุนูู ููุง ุงุดู ุบูุฑ ูููู "
        }
    },
    {
        left: {
            image: "/book/page5.jpg",
            text: "ูููู ูุงู ุนูุฏ ูููุงุฏู ุงูุงูู ูุนู ููุชูุง ูุฑูุชููู ูุงูู ุนููุช ุญุงูู ูุงุณู ูููููููููู ุจุณ ุงูุง ูุง ุจุชููููุจ ูุณุง ูุงุนุฏ ุจูุชุจูู ูุงุฐ ุงูููุงู ูุถุงูู ูุนูุฏูููุงุฏู ููููู ููุญุณุณู ุงูู ูุง ูู ุงู ุงุดู ููุง ุจููุญ ููุง ูุงุนุฏ ุจุญูู ุงุดู ูุงูุชู ุดููู ุดููู ุจูุดุชู ุชุญุณู ูุชุชุฐุงููู ุจุณ ูุงููู ุจุญุจููููู ููุชุฐูุฑ ูุง ุนูููู ุนูุจ ุนูููู ูุง ุจุนุฏ ุฑูุญู ุงูุชู ุงูู ููู ุจุญูุงุชู ูููุง ูุงุฐ ุตุฑุงุญุฉ ูุงููู ุนูุฏ ูููุงุฏู ูุง ุงุชุญูุณุชูู ููู ูุง ุนูููู ุงูุชู "
        },
        right: {
            image: "/book/page6.jpg",
            text: "ุทุจุนุชููุง ูุงูู ุจุชุญุจููุง ูุง ุจุนุฑูู ุงูู ุจุญุจูุง ุงูุซุฑ ูุงูุตูุฑุฉ ูููุง ูุซูุฑ ุฐูุฑูุงุช ููุตุต ููู ุจูุดูุง ูุณูู ุงููุจู ุนูู ุจุนุถ ุจูุงุฐ ุงูููู ุฌุจุชูู ุงูุฌูุณ ูุงูุฑุงุณ ููุงู ููู ูุซูุฑ ุญูู ููุง ูุซูููููุฑ ุณุงูููู ุงููุจู ุนุจุนุถ ูุจุณ ููุณูุง ููุท ุนูู ุจุนุถ ุจูุงุฐ ุงูููู ุฑูุญูุง ูุฑุชุงุญูู ููุจุณูุทูู ูุซููููุฑ ูููู ููุงุฎุฑ ุญูู ุถูููุง ูุญูู ูุน ุจุนุถ ูุงุฌูุงุก ุงูุญุจูุจุฉ ูููู ุจุณ ุฌุฏ ุฌุฏ ุงูุจุณุทุช ูู ูู ููุจู "
        }
    },
    {
        left: {
            image: "/book/page7.jpg",
            text: "ูุจูุดุช ุงูุงุญุฏุงุซ ุจุนุฏ ุจุงุณุจูุน ุจุงูุฒุจุท ูุจุชุงุฑูุฎ 14|11|2024 ูุงู ุงูููู ุงูุฐู ูุง ูููู ูุณูุงูู ููู ุงูู ูุฑุฉ ุงุญุณ ูู ุญุฏ ุจุงูููู ุจุญุจูู ุจูุงูููู ุงูู ูุฑุฉ ูุญุฏุฉ ุบุฑูุจุฉ ุนูู ุชุจูุณูู ุจูุงูููู ุงูู ูุฑุฉ ุฌุฏ ุงูุณู ุงูุฏูุนุฉ ุจุณุจุจ ูุฏูุฉ ุจูุงูููู ุงูู ูุฑุฉ ุงุญุณ ุญุฏ ููุชููู ูููุชู ุงูุง ุดู ุจุญุจ ุจูุงูููู ุณุงูุญููู ูุง ุนูุฏู ุตูุฑูุง ุจุณ ุงูุชู ุฏูุจุฉุฉ ูุง ุฑุถูุชู ุชุจุนุชููู ุงูุงูู"
        },
        right: {
            image: "/book/page8.jpg",
            text: "ูุจุนุฏ ุจุงุณุจูุน ูุงุญุฏ ุจุฑุถู ุจุชุงุฑูุฎ 21|11 ูุงู ุงูู ุฏูุช ุฑุณูู ุงููุง ููุง ูุญุงููุง ุจุงูุนุจุฏูู ุญุถุฑูุง ุณูููุง ุญุณูุช ุญุงูู ูุงูู ูุฑุฉ ุจุงูููู ุจุงูููุงู ุงูุตุญ ูุน ุงูุดุฎุต ุงูุตุญ ูููู ุชูุตุฏูู ุงูุง ูุชู ุญุณูุช ูุงูุดุนูุฑ ุจุณ ุญุณูุชู ูุงุญูุง ุจูุดุชุฑู ุงุดูุงุก ุฒุงููุฉ ูุฏุฎููุง ูุนูุง ููุชูุง ุงูุง ูุซููููุฑ ูุงู ููู ุงูุดุนูุฑ ุงูู ุฌูุงุฏ ุงูุช ุจุงูููุงู ุงูุตุญ ูุน ุงูุดุฎุต ุงูุตุญ ุจููููุง ูุทุนุช ุนูุฏ ุนูู ุญุงูู ุจุญูุงุชู ูุง ุงุณุชุบูู ุนูู ูู ุดู ูุง ุตุงุฑ ุงู ุจุงูููุงุณุจุฉ ูุงู ุงูููู ุญูู ;)"
        }
    },
    {
        left: {
            image: "/book/page9.jpg",
            text: "ููู ูุจูุงู ุงููุญุธุฉ ููุช ูุจุณูููููููููุท ูุงูุตู ุฏุฑุฌุฉ ุงูู ุญุงุณู ูู ุฌูุง ูุฑุชุงุญุฉ ูุงูุชู ูุนู ุตุฑุช ุงุดูู ุงูุฑุงุญุฉ ุจุนูููู ูุงูุชู ูุนู ูู ูุง ุงุดูู ููุนุฉ ุงูุญุจ ูุงูุฑุงุญุฉ ุจุนูููู ุงุชุทูู ูุง ูู ูุงู ูู ููุจู ุงูุชู ูุง ุณุฌุงูุฉ ุฑูุญู ุงูุชู ุจุญุจู ุงููู ูุฎูููุง ูุจุนุถ ููุถู ุญุงุณูู ุจูู ูุงูุญุจ ูุงูุฑุงุญุฉ ูุงุฑุจ "
        },
        right: {
            image: "/book/page10.jpg",
            text: "ูุงุฐ ุงูููู ุงุฎุฎุฎุฎุฎ ุนูู ูุงูููู ูุง ูููุง ุงูุณู ุจุงููู ูู ูุนูุฏู ุจุญุฐุงููุฑู ูุง ุฑุงุญ ุงุฒูู ููู ุจุณูุนูู ุงูุงู ุชุณููุน ูุง ุงููู ุดู ุจุญุจู ูุง ุงููู ุดู ููุง ูุจุณูุทูููููู ูุซููููุฑ ุจุงูุตูุฑุฉ ุดููู ููู ุงูุงูุดูุงุญ ุงูู ุนูู ูุฌูููุง ุงูุณู ุจุงููู ุงูู ุงุจุชุณูุช ุงูู ูุง ุดูุช ุงูุตูุฑุฉ ูุงููู ุงูููู ูุงูู ูุญููุฑ ุจููุจู ูุณุชุญูู ูุฑูุญ ูู ุจุงูู ุจููู ูุงูู ูุงู ูุซููุฑ ุญูู ุจูู ุชูุงุตููู ูู ุจุฏุงูุชู ูููุงูุชู"
        }
    },
    {
        left: {
            image: "/book/page11.jpg",
            text: "ููุงู ุงูุตูุฑุฉ ูุญุงููุง ุจุชุญูู ููู ูุงูุช ุงูู ูุฑุฉ ุจุญูุงุชู ูููุง ุงุนุฑู ุงูู ุนูู ุญุฏ ุจููุฉ ุงูุฒูุงุฌ ูุงูุนุฏูุง ูุนูุง ูุง ูุด ููู ูุจุณ ุงูุชู ุงุฌูุชู ูุญุทูุชู ุจุตูุชู ุงููููุฉ ูุชูููุชู ุชููุฒู ุจููุจ ุงูู ุจูุซุงุจุฉ ููุงุฏูุง ูุงูู ุงูุชู ุตุงุญุจุฉ ููุฑุฉ ุนูุฏ ุงููููุงุฏ ุจูุงูููู ุงููู ูุฎููููุง ุงูุงูู ูุง ุณุจุจ ุณุนุงุฏุฉ ููุฑุญุฉ ุงูุนููุฉ ูููุง ุงูุชู"
        },
        right: {
            image: "/book/page12.jpg",
            text: "ูููู ูููุช ุงููุฑุญุฉ ููุฏุฑุชู ุชูููู ุงูุจุตูุฉ ุงูุงุฌูู ุจุงูุนููุฉ ูููุง ูุฑูุญุชู ุจูุฐุงู ุงูููู ูุงูุชู ุงููู ุจูุฏุญ ูููู ูุจุฏุนูููุง ูููู ูุน ุจุนุถ ูุงููู ูููู ุญุจููู ูู ููุจูู ูุงูู ููุจู ูู ุงูุงุญู ูุงูุงุฑูุน ูุงูุงุนุธู ุจุงูุนุงููู ูุง ุฑูุญู ุงูุชู ูุง ุงุฌูู ูุงุญู ูุงุฑูู ูู ุฑุงุช ุนููู"
        }
    },
    {
        left: {
            image: "/book/page13.jpg",
            text: "ููู ูุฎูู ุงูููุฑ ุงูุตูุฑุฉ ุงูุงูุซุฑ ุดูุฑุฉ ุงูุตูุฑุฉ ุงูู ุจุชุณุจุจููุง ูุดุงูู ุงุฎุฎุฎ ุจุณ ุจุฑุถู ุจุญุจูุง ุตุฑุงุญุฉ ุนุฒูุฒุฉ ุฌุฏุง ุนูู ููุจู ูุจุญุจูุง ูุงูุง ุจุฏู ุงูุงูุง ุชููู ุฎูููุฉ ููุงุชุตุงู ุจุฑุถู ุตุฑุงุญุฉ ู ุงุจุดุฑู ูุง ุนูููู ูุง ุจุฎูููุง ุจููุณู ูุง ููุจู ุงูุชู ุจุญุจู"
        },
        right: {
            image: "/book/page14.jpg",
            text: "ูุจูุญูู ุนู ุฎูููุงุช ุงูุงุชุตุงู ูุงุจุฏ ุงูู ูุงูุตูุฑุฉ ุชูุฐูุฑ ูุงููุง ูู ุงูุซุฑ ุงูุตูุฑ ุงูู ุจุญุจูุง ูุงูุซุฑ ุตูุฑุฉ ุทููุช ุงูุง ููุช ุญุงุทูู ุงูุงูุง ูุบูุฑ ููู ูุงู ุงููุชุฑ ูุซูุฑ ููุช ูุจุณูุท ุงูู ุจุญูุงุชู ูููุช ุฎุงูู ูุซูุฑ ุงูู ุชุฑูุญู ูุชุจุนุฏู ุนูู ุจุณ ุฎุฒูุชู ุนูููู ูุถููุชู ูุจุญุจู ุงูู ุถููุชู ุฌุฏ ุดูุฑุง ูู ูู ููุจู ุงูู ุจุญูุงุชู ููููู ูุนููุง ุงุนุชุฑุงู ุจุณูุท ุงุฐุง ุจุชุชุฐูุฑู ูุงูุตูุฑุฉ ุญุทูุชู ุนูู ุฐูุงุก ุงุตุทูุงุนู ุงู ุฎููุชู ูุนูู ููุฏูู ุงูู ุจูุจูุณ ุจุนุถ ูุงู ููุณู ุงุดูู ุตุฑุงุญุฉ ุจุณ ุทูุน ุงุดู ุจุฎุฒู ูููู"
        }
    },
    {
        left: {
            image: "/book/page15.jpg",
            text: "ููู ููุง ุจูุตูุน ุงูุฎูุฑ ูุจููุนู ุงูุจุณูุฉ ููู ุงูุทุงุฑ ุงูุงูุชุงู ูู ุงูุซุฑ ุงูุงูุงู ุงูู ุญุณุณุชู ุงูู ูููุฏ ุจุณ ุงูุง ุงูุจู ุจุนุฑูุด ุงุนุจุฑ ูุงููู ูุงู ููู ููุนูุฑ ูุซููููุฑ ูุงู ุญูู ุงูุจุณุทุช ุจูู ุซุงููุฉ ูุนู ููู ูุนูููุง ูุซูุฑ ุงุดูุงุก ุญููุฉ ุชุฒุญูููุง ูููุฎูุง ุจูุงููู ูุงูููุง ุงูู ุญุฑุงู ุจุงูุงูุชุงู ูุดุฑุจูุง ูููุฉ ูุน ุจุนุถ ุจุงูููู ุจุงูุฌุงูุนุฉ ููุงู ูู ุงุญูู ุงูุงุดูุงุก ุตุฑุงุญุฉ ุจุญุจู ูุจุชููู ูู ุชูุฌู ุงููุฑุตุฉ ููุนูุฏูุง ุนุดุงู ุงุฎูููู ุชูุจุณุทู ูุงุนูุถู ุนู ุงูู ุฒุนูุชูู ุจูุงูููู "
        },
        right: {
            image: "/book/page16.jpg",
            text: "ููู ุงูุฌุงููุงุช ูู ุงูุซุฑ ุงูุงูุงู ุงูู ูุถุญูุง ุญุงููุง ูุฏุงู ุงูุนุงูู ุงูู ุงุญูุง ูุชุฌูุฒูู ูุด ุจูุญุจ ุจุนุถ ุจุณ ุตุฑุงุญุฉ ูู ุงูุซุฑ ุงูุงูุงู ุงูู ุถุญููุง ูููุง ูู ููุจูุง ุตุฑุงุญุฉ ูุซูููููุฑ ูุงู ููู ุญูู ูุถุญููุง ูู ูู ููุจูุง ุจููููููุฉ ููู ูู ุงุญูู ุงูุงูุงู ูุงู ูุง ูููุง ูุงููู ูุง ุฑูุญ ุงูุฑูุญ ุงูุชู"
        }
    },
];

// ูุงุฆูุฉ ุฑุณุงุฆู ุญุจ ุนุดูุงุฆูุฉ
const loveMessages = [
    "ุฃุญุจู ูู ููู ุฃูุซุฑ ูู ุงูููู ุงููู ูุจูู โค๏ธ",
    "ูุฌูุฏู ูู ุญูุงุชู ูู ุฃุฌูู ูุฏูุฉ ๐น",
    "ุฃูุชู ูุฌูุชู ุงูุชู ุชุถูุก ูู ุฏุฑูุจู โญ",
    "ูู ูุญุธุฉ ูุนู ูู ุฃุฌูู ูุญุธุฉ ูู ุญูุงุชู ๐ซ",
    "ููุจู ูู ูุญุฏู ููุจุถ ุจุญุจ ูุง ููุชูู ๐",
    "ุญุจู ูู ุงููุตูุฏุฉ ุงูุชู ูุง ุชูุชูู ุฃุจูุงุชูุง ๐ถ",
    "ุฃูุชู ุงูุณุนุงุฏุฉ ุงูุชู ุฃุนูุดูุง ูู ููู ๐ท",
    "ูุนู ุชุนููุช ูุนูู ุงูุญุจ ุงูุญูููู โค๏ธโ๐ฅ",
];

// ุฃููููุดู ุณููุท ุงููููุจ
function FallingHearts() {
  const hearts = Array.from({ length: 15 });

  return (
    <div className="pointer-events-none fixed inset-0 overflow-hidden z-10">
      {hearts.map((_, i) => {
        const size = 10 + Math.random() * 20;
        const left = Math.random() * 100;
        const duration = 5 + Math.random() * 5;
        const delay = Math.random() * 5;

        return (
          <motion.div
            key={i}
            initial={{ y: -50, opacity: 0 }}
            animate={{ y: 800, opacity: 1 }}
            transition={{
              duration,
              delay,
              repeat: Infinity,
              repeatType: "loop",
              ease: "linear",
            }}
            style={{
              position: "absolute",
              top: 0,
              left: `${left}%`,
              fontSize: size,
              color: "rgba(255, 0, 100, 0.7)",
              userSelect: "none",
              pointerEvents: "none",
              zIndex: 100,
            }}
          >
            โค๏ธ
          </motion.div>
        );
      })}
    </div>
  );
}

export default function FlipBook() {
  const [spreadIndex, setSpreadIndex] = useState(0);
  const [direction, setDirection] = useState(0);
  const [currentLoveMsg, setCurrentLoveMsg] = useState(loveMessages[0]);
  const [msgKey, setMsgKey] = useState(0);

  // ุญุงูุฉ ุงููุชุตูุญ (ููุจุงูู ุฃู ูุง)
  const [isMobile, setIsMobile] = useState(false);

  // ูุฑุงูุจ ุญุฌู ุงูุดุงุดุฉ ุนูุฏ ุชุญููู ุงูุตูุญุฉ ูุฃุซูุงุก ุชุบููุฑ ุงูุญุฌู
  useEffect(() => {
    function checkMobile() {
      setIsMobile(window.innerWidth < 768);
    }
    checkMobile();
    window.addEventListener("resize", checkMobile);
    return () => window.removeEventListener("resize", checkMobile);
  }, []);

  // ุฑุณุงูุฉ ุญุจ ุนุดูุงุฆูุฉ ุชุชุบูุฑ ูุน ุชุบูุฑ ุงูุตูุญุฉ
  useEffect(() => {
    const randomIndex = Math.floor(Math.random() * loveMessages.length);
    setCurrentLoveMsg(loveMessages[randomIndex]);
    setMsgKey((k) => k + 1);
  }, [spreadIndex]);

  // ุฏูุงู ุงูุชููู
  const nextSpread = () => {
    if (isMobile) {
      if (spreadIndex < spreads.length * 2 - 1) {
        setDirection(1);
        setSpreadIndex(spreadIndex + 1);
      }
    } else {
      if (spreadIndex < spreads.length - 1) {
        setDirection(1);
        setSpreadIndex(spreadIndex + 1);
      }
    }
  };

  const prevSpread = () => {
    if (isMobile) {
      if (spreadIndex > 0) {
        setDirection(-1);
        setSpreadIndex(spreadIndex - 1);
      }
    } else {
      if (spreadIndex > 0) {
        setDirection(-1);
        setSpreadIndex(spreadIndex - 1);
      }
    }
  };

  // ุชุญุฏูุฏ ุงูุตูุญุงุช ุงููุนุฑูุถุฉ ุจูุงุกู ุนูู ุงูุฌูุงุฒ
  const getCurrentPages = () => {
    if (isMobile) {
      const pageNumber = spreadIndex;
      const spread = spreads[Math.floor(pageNumber / 2)];
      const side = pageNumber % 2 === 0 ? "left" : "right";
      return [spread[side]];
    } else {
      return [spreads[spreadIndex].left, spreads[spreadIndex].right];
    }
  };

  const pages = getCurrentPages();
    return (
        <div className="flex flex-col items-center py-10 relative bg-yellow-50 min-h-screen">
            {/* ุชุฃุซูุฑ ุณููุท ุงููููุจ */}
            <FallingHearts />

            {/* ุงูุฏูุชุฑ */}
          <div className="relative w-full max-w-[900px] aspect-[16/10] max-md:h-[700px] h-[600px] perspective">
                <div className="absolute inset-0 bg-yellow-100 rounded-lg shadow-2xl border-4 border-yellow-200" />

                <AnimatePresence mode="wait" custom={direction}>
                    <motion.div
                        key={spreadIndex}
                        custom={direction}
                        initial={{ rotateY: direction === 1 ? 90 : -90, opacity: 0 }}
                        animate={{ rotateY: 0, opacity: 1 }}
                        exit={{ rotateY: direction === 1 ? -90 : 90, opacity: 0 }}
                        transition={{ duration: 0.9 }}
                        className="absolute w-full h-full flex rounded-lg overflow-hidden"
                        style={{ backfaceVisibility: "hidden" }}
                    >
                        {/* ุงูุตูุญุฉ ุงููุณุงุฑ */}
                        <Page
                            image={spreads[spreadIndex].left.image}
                            text={spreads[spreadIndex].left.text}
                            side="left"
                        />

                        {/* ุงูุตูุญุฉ ุงููููู */}
                        <Page
                            image={spreads[spreadIndex].right.image}
                            text={spreads[spreadIndex].right.text}
                            side="right"
                        />
                    </motion.div>
                </AnimatePresence>
            </div>

            {/* ุฑุณุงูุฉ ุญุจ ุนุดูุงุฆูุฉ ุชุธูุฑ ููู ุงูุฏูุชุฑ */}
            <div className="mt-6 w-[900px] h-6 flex justify-center items-center text-pink-700 text-xl font-semibold relative z-30">
                <AnimatePresence mode="wait">
                    <motion.p
                        key={msgKey}
                        initial={{ opacity: 0, y: 20 }}
                        animate={{ opacity: 1, y: 0 }}
                        exit={{ opacity: 0, y: -20 }}
                        transition={{ duration: 0.6 }}
                        className="select-none"
                    >
                        {currentLoveMsg}
                    </motion.p>
                </AnimatePresence>
            </div>

            {/* ุฃุฒุฑุงุฑ ุงูุชุญูู */}
            <div className="flex gap-4 mt-4">
                <button
                    onClick={prevSpread}
                    disabled={spreadIndex === 0}
                    className="bg-pink-500 cursor-pointer text-white px-3 py-1 md:px-4 md:py-1 rounded-lg shadow hover:bg-pink-600 disabled:opacity-50"
                >
                    โฌ ุงูุณุงุจู
                </button>
                <button
                    onClick={nextSpread}
                    disabled={
                        isMobile
                            ? spreadIndex === spreads.length * 2 - 1
                            : spreadIndex === spreads.length - 1
                    }
                    className="bg-pink-500 cursor-pointer text-white px-3 py-1 md:px-4 md:py-2 rounded-lg shadow hover:bg-pink-600 disabled:opacity-50"
                >
                    ุงูุชุงูู โก
                </button>


            </div>
                 <Link href={"/"} className="text-black p-5 text-lg border-2 border-amber-300 bg-blue-500 hover:scale-105 m-2 rounded-3xl "> โฌ ุฑุฌูุน ููุตูุญุฉ ุงูุฑุฆูุณูุฉ ุจุณ ูุชุฑุฌุนู ุชุนูุฏู ุงูุจุงุฒูู ููู </Link>
        </div>
    );
}


function Page({ image, text, side, isMobile }) {
    return (
        <div
            className={`${isMobile ? "w-full" : "w-1/2"
                } h-full flex flex-col ${!isMobile && side === "left" ? "border-r border-gray-400" : ""
                }`}
            style={{
                backgroundImage: "url('/paper-texture.png')",
                backgroundSize: "cover"
            }}
        >

            <div className="p-2 md:p-4 flex flex-col items-center h-full">
                {/* ุตูุฑุฉ */}
                <div className="border-4 border-pink-400 rounded-xl overflow-hidden shadow-lg mb-3  h-[250px] md:h-[300px]">
                    <img
                        src={image}
                        alt="page"
                        className="w-full h-full object-contain"
                    />
                </div>
                {/* ูุต */}
                <div className=" bg-opacity-10  max-md:text-2xl p-2 md:p-3 text-pink-700 font-medium text-base md:text-lg leading-relaxed rounded-lg shadow-inner overflow-y-auto flex-1 w-[90%] whitespace-pre-line">
                    {text}
                </div>

            </div>
        </div>
    );
}
